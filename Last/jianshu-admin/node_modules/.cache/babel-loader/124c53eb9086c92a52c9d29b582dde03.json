{"remainingRequest":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/src/views/User/personal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/src/views/User/personal.vue","mtime":1620095180000},{"path":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/babel.config.js","mtime":1620040888000},{"path":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cGxvYWRIZWFkZXI6IHsKICAgICAgICBhdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgfSwKICAgICAgZm9ybTogewogICAgICAgIF9pZDogJycsCiAgICAgICAgc2V4OiAn55S3JywKICAgICAgICBhdmF0YXI6ICcnLAogICAgICAgIGRlc2M6ICcnLAogICAgICAgIGVhbWlsOiAnJywKICAgICAgICBwaG9uZTogJycKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZvcm0gPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyOwogIH0sCiAgbWV0aG9kczogewogICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzKSB7CiAgICAgIHRoaXMuZm9ybS5hdmF0YXIgPSByZXMuZGF0YTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgcGF0aDogJy91c2Vycy91cGRhdGUvcGVyc29uYWwnLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHBhcmFtczogdGhpcy5mb3JtCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csCiAgICAgICAgICB0eXBlOiByZXMuY29kZSA9PT0gMjAwID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;EACAA,IADA,kBACA;IACA;MACAC;QACAC;MADA,CADA;MAIAC;QACAC,OADA;QAEAC,QAFA;QAGAC,UAHA;QAIAC,QAJA;QAKAC,SALA;QAMAC;MANA;IAJA;EAaA,CAfA;EAgBAC,OAhBA,qBAgBA;IACA;EACA,CAlBA;EAmBAC;IACAC,SADA,qBACAC,GADA,EACA;MACA;IACA,CAHA;IAIAC,IAJA,kBAIA;MAAA;;MACA;QACAC,8BADA;QAEAC,cAFA;QAGAC;MAHA,GAIAC,IAJA,CAIA;QACA;UACAC,gBADA;UAEAC;QAFA;MAIA,CATA;IAUA;EAfA;AAnBA","names":["data","uploadHeader","authorization","form","_id","sex","avatar","desc","eamil","phone","created","methods","onSuccess","res","save","path","method","params","then","message","type"],"sourceRoot":"src/views/User","sources":["personal.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-form label-width=\"80px\">\r\n      <el-form-item label=\"头像\">\r\n        <div class=\"avatar-div\">\r\n          <img v-show=\"form.avatar\" :src=\"form.avatar\" class=\"small-img\">\r\n          <el-upload\r\n            action=\"http://localhost:3000/upload/img\"\r\n            name=\"myfile\"\r\n            :headers=\"uploadHeader\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"onSuccess\">\r\n            <el-button>上传</el-button>\r\n          </el-upload>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户名\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"form.username\" disabled placeholder=\"请输入用户名\"></el-input>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"性别\">\r\n        <el-radio v-model=\"form.sex\" label=\"男\">男</el-radio>\r\n        <el-radio v-model=\"form.sex\" label=\"女\">女</el-radio>\r\n        <el-radio v-model=\"form.sex\" label=\"保密\">保密</el-radio>\r\n      </el-form-item>\r\n      <el-form-item label=\"个人简介\">\r\n        <el-col :span=\"6\">\r\n          <el-input type=\"textarea\" v-model=\"form.desc\" rows=\"3\" placeholder=\"填写你的个人简介\"></el-input>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"手机号\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"form.phone\" placeholder=\"请输入手机号\"></el-input>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"电子邮箱\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"form.email\" placeholder=\"请输入邮箱地址\"></el-input>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"success\" round @click=\"save\">更 新</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n\r\n\r\n      \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data(){\r\n    return {\r\n      uploadHeader: {\r\n        authorization: \"Bearer \" + localStorage.token,\r\n      },\r\n      form: {\r\n        _id: '',\r\n        sex: '男',\r\n        avatar: '',\r\n        desc: '',\r\n        eamil: '',\r\n        phone: ''\r\n      }\r\n    }\r\n  },\r\n  created(){\r\n    this.form = this.$store.state.user;\r\n  },\r\n  methods: {\r\n    onSuccess(res){\r\n      this.form.avatar = res.data\r\n    },\r\n    save(){\r\n      this.$http({\r\n        path: '/users/update/personal',\r\n        method: 'post',\r\n        params: this.form\r\n      }).then(res=>{\r\n        this.$message({\r\n          message: res.msg,\r\n          type: res.code === 200 ? 'success' : 'error'\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.small-img{\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-right: 20px;\r\n}\r\n.avatar-div{\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n</style>"]}]}