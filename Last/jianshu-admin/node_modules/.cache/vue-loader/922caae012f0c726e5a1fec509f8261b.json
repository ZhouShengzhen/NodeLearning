{"remainingRequest":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/src/views/User/personal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/src/views/User/personal.vue","mtime":1620095180000},{"path":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhou/Desktop/NodeLearning/Last/jianshu-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKXsNCiAgICByZXR1cm4gew0KICAgICAgdXBsb2FkSGVhZGVyOiB7DQogICAgICAgIGF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS50b2tlbiwNCiAgICAgIH0sDQogICAgICBmb3JtOiB7DQogICAgICAgIF9pZDogJycsDQogICAgICAgIHNleDogJ+eUtycsDQogICAgICAgIGF2YXRhcjogJycsDQogICAgICAgIGRlc2M6ICcnLA0KICAgICAgICBlYW1pbDogJycsDQogICAgICAgIHBob25lOiAnJw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpew0KICAgIHRoaXMuZm9ybSA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXI7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBvblN1Y2Nlc3MocmVzKXsNCiAgICAgIHRoaXMuZm9ybS5hdmF0YXIgPSByZXMuZGF0YQ0KICAgIH0sDQogICAgc2F2ZSgpew0KICAgICAgdGhpcy4kaHR0cCh7DQogICAgICAgIHBhdGg6ICcvdXNlcnMvdXBkYXRlL3BlcnNvbmFsJywNCiAgICAgICAgbWV0aG9kOiAncG9zdCcsDQogICAgICAgIHBhcmFtczogdGhpcy5mb3JtDQogICAgICB9KS50aGVuKHJlcz0+ew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLA0KICAgICAgICAgIHR5cGU6IHJlcy5jb2RlID09PSAyMDAgPyAnc3VjY2VzcycgOiAnZXJyb3InDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["personal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"personal.vue","sourceRoot":"src/views/User","sourcesContent":["<template>\r\n  <div>\r\n    <el-form label-width=\"80px\">\r\n      <el-form-item label=\"头像\">\r\n        <div class=\"avatar-div\">\r\n          <img v-show=\"form.avatar\" :src=\"form.avatar\" class=\"small-img\">\r\n          <el-upload\r\n            action=\"http://localhost:3000/upload/img\"\r\n            name=\"myfile\"\r\n            :headers=\"uploadHeader\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"onSuccess\">\r\n            <el-button>上传</el-button>\r\n          </el-upload>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户名\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"form.username\" disabled placeholder=\"请输入用户名\"></el-input>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"性别\">\r\n        <el-radio v-model=\"form.sex\" label=\"男\">男</el-radio>\r\n        <el-radio v-model=\"form.sex\" label=\"女\">女</el-radio>\r\n        <el-radio v-model=\"form.sex\" label=\"保密\">保密</el-radio>\r\n      </el-form-item>\r\n      <el-form-item label=\"个人简介\">\r\n        <el-col :span=\"6\">\r\n          <el-input type=\"textarea\" v-model=\"form.desc\" rows=\"3\" placeholder=\"填写你的个人简介\"></el-input>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"手机号\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"form.phone\" placeholder=\"请输入手机号\"></el-input>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"电子邮箱\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"form.email\" placeholder=\"请输入邮箱地址\"></el-input>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"success\" round @click=\"save\">更 新</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n\r\n\r\n      \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data(){\r\n    return {\r\n      uploadHeader: {\r\n        authorization: \"Bearer \" + localStorage.token,\r\n      },\r\n      form: {\r\n        _id: '',\r\n        sex: '男',\r\n        avatar: '',\r\n        desc: '',\r\n        eamil: '',\r\n        phone: ''\r\n      }\r\n    }\r\n  },\r\n  created(){\r\n    this.form = this.$store.state.user;\r\n  },\r\n  methods: {\r\n    onSuccess(res){\r\n      this.form.avatar = res.data\r\n    },\r\n    save(){\r\n      this.$http({\r\n        path: '/users/update/personal',\r\n        method: 'post',\r\n        params: this.form\r\n      }).then(res=>{\r\n        this.$message({\r\n          message: res.msg,\r\n          type: res.code === 200 ? 'success' : 'error'\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.small-img{\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-right: 20px;\r\n}\r\n.avatar-div{\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n</style>"]}]}